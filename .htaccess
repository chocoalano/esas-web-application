<IfModule mod_rewrite.c>
  RewriteEngine On

  # ğŸ” Force redirect ke HTTPS
  RewriteCond %{HTTPS} !=on
  RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

  # âœ… Disable browser caching
  <IfModule mod_headers.c>
    Header set Cache-Control "no-store, no-cache, must-revalidate, max-age=0"
    Header set Pragma "no-cache"
    Header set Expires "Thu, 01 Jan 1970 00:00:00 GMT"
  </IfModule>

  # ğŸ›‘ Abaikan file & folder yang memang ada
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d

  # ğŸ” Route semua permintaan lain ke index.html (SPA fallback)
  RewriteRule ^ index.html [QSA,L]
</IfModule>

# ğŸ”’ Blok akses ke file sensitif
<FilesMatch "^\.env">
  Require all denied
</FilesMatch>
